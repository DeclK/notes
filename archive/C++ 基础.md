# C++ åŸºç¡€

[zhihu](https://zhuanlan.zhihu.com/p/114543112)

[èœé¸Ÿæ•™ç¨‹](https://www.runoob.com/cplusplus/cpp-tutorial.html)

## Install

å‚è€ƒ [bilibili](https://www.bilibili.com/video/BV1Cu411y7vT) [youtube](https://www.youtube.com/watch?v=8jLOx1hD3_o)

### MinGW

å‰å¾€é“¾æ¥ä¸‹è½½ [WinLibs](https://winlibs.com/)ï¼Œä¸‹è½½æœ€æ–°ç‰ˆæœ¬çš„ gcc ç¼–è¯‘åŒ…

![image-20230805152522881](C++ åŸºç¡€/image-20230805152522881.png)

å¹¶æŠŠè§£å‹è¿‡åçš„ `bin` å…¶æ·»åŠ åˆ°ç¯å¢ƒå˜é‡ä¸­ï¼Œå®Œæˆååœ¨ cmd ä¸­è¾“å…¥ä»¥ä¸‹å†…å®¹çš„ä»»æ„ä¸€è¡Œæ¥éªŒè¯æ˜¯å¦å®‰è£…æˆåŠŸ

```cmd
gcc -v
clang -v
```

ä¸ºä»€ä¹ˆéœ€è¦ç¼–è¯‘åŒ…ï¼Ÿç¼–è¯‘åŒ…é‡ŒåŒ…å«äº†è®¸å¤šä¸åŒçš„ç¼–è¯‘å™¨ï¼ˆä¾‹å¦‚ gcc å’Œ clangï¼‰ï¼Œä»»æ„ä¸€ä¸ªç¼–è¯‘å™¨éƒ½å¯ä»¥å¯¹ C++ ä»£ç è¿›è¡Œç¼–è¯‘ï¼Œä¸åŒçš„ç¼–è¯‘å™¨æœ‰å„è‡ªçš„ç¼–è¯‘è¿‡ç¨‹ï¼Œå…¶ä¸­å¯¹ä»£ç çš„è¿è¡Œå¯èƒ½æœ‰ä¸åŒçš„ä¼˜åŒ–ï¼Œæ‰€ä»¥ç¼–è¯‘å‡ºæ¥çš„ç¨‹åºæœ‰ä¸åŒçš„è¿è¡Œé€Ÿåº¦

**ç¼–è¯‘å™¨çš„æœ¬è´¨å°±æ˜¯å°†å†™å¥½çš„ C++ ä»£ç ï¼ˆtxtï¼‰ï¼Œè½¬æ¢æˆäºŒè¿›åˆ¶æ–‡ä»¶ï¼Œè¿™äº›äºŒè¿›åˆ¶æ–‡ä»¶æ‰èƒ½è¢«è®¡ç®—æœºç†è§£å¹¶æ‰§è¡Œ**

### Linux

å¦‚æœæƒ³è¦åœ¨ linux è¿›è¡Œå­¦ä¹ çš„è¯ï¼Œå¯ä»¥ä¸‹è½½ `gcc & g++ & gdb`ï¼Œ`gdb` ä¸€å®šè¦ä¸‹è½½ç”¨äº debugï¼ŒåŒæ—¶æ’ä»¶ä¾èµ–äºæ­¤ï¼Œå¯èƒ½é€ æˆæ— æ³•è¯†åˆ« task

```shell
sudo apt install gcc g++ gdb
# or, vscode doc recommends:
sudo apt install build-essential gdb
```

### VSCode

VSCode æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„**ç¼–è¾‘å™¨**ï¼Œä½†å…¶ä¸­å¹¶ä¸å†…ç½®ä»»ä½•**ç¼–è¯‘å™¨**ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å‘Šè¯‰ vscode å¦‚ä½•ä½¿ç”¨æˆ‘ä»¬ä¸Šé¢ä¸‹è½½å¥½çš„ç¼–è¯‘å™¨

é¦–å…ˆä¸‹è½½ C++ æ’ä»¶ï¼Œä¸ºäº†æ–¹ä¾¿æˆ‘ç›´æ¥ä¸‹è½½äº† C++ Extension Pack

![image-20230805153833663](C++ åŸºç¡€/image-20230805153833663.png)

å®‰è£…å¥½æ’ä»¶è¿‡åï¼Œåœ¨ä½ çš„ C++ ä»£ç æ–‡ä»¶å¤¹ä¸‹åˆ›å»º `.vscode/task.json` æ–‡ä»¶ï¼Œæ¥**é…ç½®å¥½ vscode ä¸­ä½¿ç”¨çš„ç¼–è¯‘å™¨**ï¼Œä½†å®é™…ä¸Šæœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯ç›´æ¥ `Run C/C++ file`ï¼Œå¦‚æœä½ æ˜¯ç¬¬ä¸€æ¬¡è¿è¡Œ C++ ä»£ç ï¼Œvscode ä¼šå¼•å¯¼ä½ é€‰æ‹©æƒ³ä½¿ç”¨çš„ç¼–è¯‘å™¨ï¼Œç„¶åè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ª `task.json` é…ç½®æ–‡ä»¶ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œæˆ‘ç›´æ¥é€‰æ‹© g++ ç¼–è¯‘å™¨

![image-20230805162107297](C++ åŸºç¡€/image-20230805162107297.png)

> gcc å’Œ g++ çš„åŒºåˆ«å¯ä»¥ç®€å•ç†è§£ä¸º c è¯­è¨€ç¼–è¯‘å™¨å’Œ c++ è¯­è¨€ç¼–è¯‘å™¨

æ›´å¤šçš„æœ‰å…³ `task.json` çš„ä¿¡æ¯å¯ä»¥æŸ¥çœ‹ [vscode-mingw](https://code.visualstudio.com/docs/cpp/config-mingw#_understanding-tasksjson)

æˆ‘çš„ Config å¦‚ä¸‹

```json
{
    "tasks": [
        {
            "type": "cppbuild",
            "label": "Build with g++ compiler",
            "command": "C:\\Data\\Software\\mingw64\\bin\\g++.exe",
            "args": [
                "-fdiagnostics-color=always",
                "-g",	// generate debug info at debug console
                "${fileDirname}\\*.cpp",
                "-o",
                "${fileDirname}\\${fileBasenameNoExtension}.exe"
            ],
            "options": {
                "cwd": "${fileDirname}"
            },
            "problemMatcher": [
                "$gcc"
            ],
            "group": {
                "kind": "build",
                "isDefault": true
            },
            "detail": "Task generated by Debugger."
        },
    ],
    "version": "2.0.0"
}
```

å¯¹æ¯”é»˜è®¤çš„ `task.json` ä¿®æ”¹äº†ä¸¤ä¸ªåœ°æ–¹ï¼š

1. `label`ï¼Œå°±æ˜¯å–ä¸€ä¸ªè‡ªå®šä¹‰çš„åå­—ï¼Œæ²¡ä»€ä¹ˆç‰¹åˆ«çš„
2. `args`ï¼Œ`-g` ä¹‹åæˆ‘é€‰æ‹©ç¼–è¯‘å½“å‰æ–‡ä»¶å¤¹ä¸‹æ‰€æœ‰ cpp æ–‡ä»¶

è§£è¯»ä¸€ä¸‹å…¶ä»–å‚æ•°ï¼š

1. `group` å‚æ•°ä¸€èˆ¬é…ç½®äº†è¯¥ç¼–è¯‘å™¨èƒ½å¤Ÿè¢«å“ªäº›æ¥å£è°ƒç”¨ã€‚ä¾‹å¦‚ `"kind": "build"`ï¼Œè¡¨ç¤ºä½¿ç”¨ `Run build task` çš„æ—¶å€™ï¼Œå°±ä¼šä½¿ç”¨è¯¥ç¼–è¯‘å™¨ï¼›`"isDefault": true` ä»£è¡¨äº†ä½¿ç”¨ `Run C/C++ File` æ—¶ï¼Œå°±ä¼šä½¿ç”¨è¯¥ç¼–è¯‘å™¨
2. `detail` å‚æ•°å°±æ˜¯åœ¨ select the task æ—¶æ˜¾ç¤ºä¸‹æ–¹çš„å°å­— 

ä¹‹åå°±å¯ä»¥ç›´æ¥ç‚¹å‡»æ’ä»¶çš„ play button â–¶ï¸ï¼Œä¹‹åä¼šä½¿ç”¨ `tasks.json` ä¸­é…ç½®å¥½çš„ç¼–è¯‘å™¨ä¸æŒ‡ä»¤è¿›è¡Œç¼–è¯‘ï¼Œç„¶åä¼šä½¿ç”¨ `launch.json` ä¸­çš„é…ç½®ï¼Œè¿è¡Œç¼–è¯‘å¥½çš„æ–‡ä»¶ï¼Œå¦‚æœä¸å­˜åœ¨ `launch.json` ä¸€èˆ¬ä¼šä½¿ç”¨ä¸€ä¸ªé»˜è®¤çš„é…ç½®ï¼Œä½†æ˜¯æˆ‘ä»¬ä¸å¯è§

å®é™…ä¸Š C++ æ’ä»¶ä¹Ÿèƒ½å¤Ÿæ”¯æŒ CUDA ç¼–ç¨‹ï¼Œåªéœ€è¦æˆ‘ä»¬ä¿®æ”¹ä¸€ä¸‹ç¼–è¯‘å™¨è·¯å¾„ï¼ˆcompiler pathï¼‰å°±å¯ä»¥äº«å— IDE å¸¦æ¥çš„è‡ªåŠ¨æç¤ºåŠŸèƒ½ï¼Œå¹¶ä¸”èƒ½å¤Ÿè‡ªåŠ¨è¯†åˆ« CUDA ä¸­ç‰¹æœ‰çš„å…³é”®å­—è€Œä¸æŠ¥é”™ã€‚æ–¹æ³•å°±æ˜¯åˆ›å»º `c_cpp_properties.json`ï¼Œæˆ–è€…å¯ä»¥ç›´æ¥ä½¿ç”¨ ` C/C++: Edit Configurations (UI) ` è¿›è¡Œä¿®æ”¹ã€‚æˆ‘çš„é…ç½®å¦‚ä¸‹

```json
{
    "configurations": [
        {
            "name": "NVCC: CUDA 11.8",	// any string
            "includePath": [
                "${workspaceFolder}/**"ï¼Œ // include all files in the workspace
                // ***** include torch C++/CUDA libs for extension development *****
                "/usr/include/python3.8",
                "/home/declk/miniconda3/envs/pytorch/lib/python3.8/site-packages/torch/include",
                "/home/declk/miniconda3/envs/pytorch/lib/python3.8/site-packages/torch/include/torch/csrc/api/include"
            ],
            "compilerPath": "/usr/local/cuda/bin/nvcc",
        }
    ],
    "version": 4
}
```

è™½ç„¶ `c_cpp_properties.json` é…ç½®äº†ç¼–è¯‘å™¨è·¯å¾„ï¼Œä½†æ˜¯åªæä¾› IntelliSense åŠŸèƒ½ï¼ŒçœŸæ­£çš„ç¼–è¯‘å™¨è·¯å¾„ä»ç„¶ç”± `tasks.json` é…ç½®

é™¤äº†è¿è¡Œä¹‹å¤–ï¼Œæ’ä»¶å½“ç„¶ä¹Ÿæ”¯æŒ debugï¼Œä½ å¯ä»¥åœ¨å³ä¸Šè§’çš„æŒ‰é’®ä¸­æ‰¾åˆ°ï¼Œè¿™é‡Œä¸å¤šèµ˜è¿°

## HelloWorld

```c++
// a hello world cpp

#include <iostream>

int main()
{
    std::cout << "Hello World!" << std::endl;
    return 0;
}
```

ä¸Šé¢å°±æ˜¯ C++ çš„ Hello World ç¨‹åºå•¦ï¼è¿™é‡Œå’±ä»¬å¯ä»¥åˆæ­¥äº†è§£ä¸€äº›è§„åˆ™

ç»“æ„ï¼š

1. å¤´æ–‡ä»¶ï¼Œ`<iostream>` å°±æ˜¯ç”¨äºè¾“å…¥è¾“å‡ºçš„ï¼Œè¦ç”¨ `cin, cout, endl` å°±å¿…é¡»è¦è¯¥å¤´æ–‡ä»¶ã€‚å¤´æ–‡ä»¶ä¹‹å‰ä½¿ç”¨äº† `#include`ï¼Œè¿™é‡Œæœ‰ç‚¹åƒ python çš„ importï¼Œä½†æ›´å‡†ç¡®çš„æ¥è¯´ï¼Œè¿™æ˜¯ä¸€ä¸ª**é¢„å¤„ç†å™¨ï¼ˆpreprocessorï¼‰**ï¼Œæ‰€è°“çš„é¢„å¤„ç†å°±æ˜¯åœ¨ç¼–è¯‘å¼€å§‹ä¹‹å‰ï¼Œéœ€è¦å®Œæˆçš„å·¥ä½œã€‚è€Œè¿™é‡Œçš„ `#include` é¢„å¤„ç†å™¨å°±æ˜¯æŠŠæ–‡ä»¶ä¸­çš„æ–‡æœ¬ï¼Œ**åŸå°ä¸åŠ¨åœ°ç²˜è´´åˆ°å½“å‰æ–‡æœ¬ä¸­**
2. **main å‡½æ•°**æ˜¯ä¸€ä¸ª C++ é¡¹ç›®çš„å…¥å£ï¼ˆentry pointï¼‰ï¼Œä¸€ä¸ªé¡¹ç›®æœ‰ä¸”åªèƒ½æœ‰ä¸€ä¸ª main å‡½æ•°ã€‚å½“ç¨‹åºè¿è¡Œæ—¶ï¼Œä¼šä» main å‡½æ•°å¼€å§‹é€è¡Œè¿è¡Œ
3. `std::`ï¼Œè¡¨ç¤ºä½¿ç”¨çš„ namespace

è¯­æ³•ï¼š

1. åˆ†å·ä¸ºç»“æŸ
2. ç”¨å¤§æ‹¬å·åˆ†éš”è¯­å¥å—
3. åŒæ–œæ è¡¨ç¤ºæ³¨é‡Š

## How C++ Works

å‚è€ƒ [How-C++-Works](https://www.bilibili.com/video/BV1qh411p7Sa/?p=5)	[How-C++-Compiler-Works](https://www.bilibili.com/video/BV1qh411p7Sa/?p=6)

åœ¨å¼€å§‹è®²è§£ä¹‹å‰éœ€è¦äº†è§£ C++ æ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚å‡è®¾ä½ æœ‰ä¸€ä¸ª C++ é¡¹ç›®ï¼Œè¿™ä¸ªé¡¹ç›®ä¸­åŒ…å«äº†è®¸å¤š cpp æ–‡ä»¶ï¼Œæ•´ä¸ªè¿‡ç¨‹æ˜¯æ€ä¹ˆè¿è¡Œçš„å‘¢ï¼Ÿ

é¦–å…ˆï¼Œæ¯ä¸€ä¸ª cpp æ–‡ä»¶ï¼ˆtranslation unitï¼‰éƒ½ä¼šè¢«ç¼–è¯‘ï¼ˆcompilersï¼‰ï¼Œç¼–è¯‘çš„è¿‡ç¨‹ä¸­ä¼šäº§ç”Ÿä¸€äº› `.obj` æ–‡ä»¶ï¼ˆon windowsï¼‰æˆ–è€…æ˜¯ `.o` æ–‡ä»¶ï¼ˆon linuxï¼‰ï¼Œè¿™äº›æ–‡ä»¶ä¸ºä¸­é—´æ–‡ä»¶ï¼ˆintermediate binary filesï¼‰ï¼Œæœ€åå°†è¿™äº› obj æ–‡ä»¶è”ç³»èµ·æ¥ï¼ˆlinkersï¼‰ï¼Œç»„æˆä¸€ä¸ª `.exe` æ–‡ä»¶ï¼Œè¿™å°±æ˜¯æœ€ç»ˆçš„å¯æ‰§è¡Œç¨‹åº

ç¼–è¯‘å™¨ä¼šå°† `.cpp` ç»“å°¾çš„æ–‡ä»¶å½“ä½œ C++ ä»£ç ï¼Œè€Œ `.c` ç»“å°¾çš„æ–‡ä»¶å½“ä½œ C ä»£ç ï¼Œè€Œ `.h` ç»“å°¾çš„æ–‡ä»¶ä½œä¸ºå¤´æ–‡ä»¶ï¼Œè¿™äº›è¡Œä¸ºæ˜¯å¯ä»¥è¢«æ”¹å˜çš„ï¼Œä½†é»˜è®¤çš„è®¾ç½®å°±æ˜¯è¿™æ ·

ä¸Šé¢è®² cpp æ–‡ä»¶ç­‰ä»·äº translation unit ä¸æ˜¯ç‰¹åˆ«å‡†ç¡®ï¼Œæˆ‘å°† translation unit çš„å®šä¹‰å†™åœ¨ä¸‹é¢ä»¥å‡†ç¡®æè¿°ï¼ˆThanks to ChatGPTğŸ˜

> In C++, a "translation unit" refers to a single source file (a .cpp file) along with all the header files it includes, directly or indirectly. The translation unit is the basic unit of compilation in C++, and it represents the code that the compiler processes to generate an object file.

å¯ä»¥çœ‹åˆ° translation unit ä¹‹é—´ä¼¼ä¹æ˜¯æ— æ³•ç›¸äº’æ²Ÿé€šçš„ï¼Œè¿™é‡Œå°±éœ€è¦ linkers å°†ä¸åŒ unit ä¹‹é—´çš„åŠŸèƒ½è”ç³»èµ·æ¥ï¼Œæ”¾åˆ°ä¸€ä¸ª main ç¨‹åºå½“ä¸­

### Preprocess

å®é™…ä¸Š Compile çš„ç¬¬ä¸€æ­¥ä¸æ˜¯ç›´æ¥å°±è½¬æ¢æ–‡æœ¬åˆ°äºŒè¿›åˆ¶æ–‡ä»¶äº†ï¼Œè€Œæ˜¯ **Preprocess**

åœ¨ preprocess çš„è¿‡ç¨‹ä¸­ï¼Œç¼–è¯‘å™¨ä¼šæ£€æŸ¥æ‰€æœ‰çš„ preprocess è¯­å¥ç„¶åå¯¹ä»£ç **æ–‡æœ¬**è¿›è¡Œå¤„ç†ã€‚å¸¸è§çš„æœ‰ï¼š

1. `#include`ï¼Œä¹‹å‰è®²è¿‡ï¼Œè¯¥é¢„å¤„ç†è¯­å¥å°±æ˜¯æ‰“å¼€æŒ‡å®šæ–‡ä»¶ï¼Œç„¶åå°†æ–‡ä»¶é‡Œçš„æ‰€æœ‰æ–‡æœ¬ copy paste åˆ°å½“å‰ä½ç½®

2. `#define`ï¼Œå°±æ˜¯å°†æŸä¸ªå­—æ®µï¼Œæ›¿æ¢ä¸ºå¦ä¸€ä¸ªå­—æ®µï¼Œä¾‹å¦‚ä¸‹é¢å°±ä¼šå°†ä»£ç ä¸­çš„ `INTERGER` å…¨éƒ¨æ›¿æ¢ä¸º `int`

   ```c++
   #define INTERGER int
   
   INTERGER a
   ```

3. `#if`ï¼Œæ ¹æ®æ¡ä»¶å°†ä»£ç æ–‡æœ¬åŒ…å«æˆ–è€…å‰”é™¤æ‰

   ```c++
   #if 1	// always true
   int Multiply(int a, int b):
   {
       int result = a * b;
       return result;
   }
   #endif
   ```

4. `#ifdef`ï¼Œæ ¹æ®æ˜¯å¦æœ‰å­˜åœ¨æŸä¸ª macro æˆ–è€… identifierï¼Œæ¥å¯¹ä»£ç æ–‡æœ¬åŒ…å«æˆ–è€…åˆ é™¤      

### Macro & Identifier

Macro çš„å®šä¹‰å¦‚ä¸‹

> In C++, a "macro" is a preprocessor directive that defines a simple text substitution. It allows you to create short, symbolic names (macros) for longer sequences of code, constants, or expressions.

å…¶ä¸­æåˆ°çš„ preprocessor å°±æ˜¯ `#define` ï¼Œä¸¾ä¸ªä¾‹å­

```c++
#define PI 3.14159
```

è¿™é‡Œçš„ `PI` å°±æ˜¯ä¸€ä¸ª macro

Identifier çš„å®šä¹‰å¦‚ä¸‹

> An "identifier" in C++ is a name given to an entity in the program, such as variables, functions, classes, or macros. Identifiers are used to uniquely identify these entities and provide a way to access and manipulate them within the code.

æ‰€ä»¥è¿˜æ˜¯ä»¥ä¸Šé¢çš„ä¾‹å­ï¼Œ`PI` å°±æ˜¯è¯¥ macro çš„ identifierã€‚è¿™è™½ç„¶å¾ˆç»•ï¼Œä½†æˆ‘ç†è§£çš„å°±æ˜¯ macro çš„åå­—å°±æ˜¯ macro æœ¬èº«...

macro è¿˜å¯ä»¥ä½œä¸ºå‡½æ•°ä½¿ç”¨ï¼Œæ‰©å±•äº†å…¶åº”ç”¨ç©ºé—´

```c++
#define LOG(your_content) printf("%s\n", your_content)
```

è¿™é‡Œçš„ `LOG` macroï¼Œå°±èƒ½å¤Ÿå°†ä½ è¾“å…¥çš„ `your_content` è¿›è¡Œæ‰“å°ï¼Œä½†æ°¸è¿œè®°ä½ï¼Œæœ¬è´¨ä¸Šè¿˜æ˜¯ä¸€ä¸ªä»£ç çš„æ›¿æ¢ã€‚è¿˜å¯ä»¥ä½¿ç”¨ `#your_content` æ¥å°†ä½ çš„**å‚æ•°å**å­—ç¬¦ä¸²åŒ–

```c++
#include <stdio.h>
#define LOG(your_content) printf(#your_content"\n")

int main() {
    int log_param = 10;
    LOG(log_param);
    return 0;
}
// output: log_paramï¼Œ not 10!
```

### Declaration & Definition

å…¶å® **definition å®šä¹‰** æ˜¯å¾ˆå¥½ç†è§£çš„ï¼Œå°±æ˜¯è¦æŠŠå‡½æ•°/å¯¹è±¡çš„åå­—ã€ä¸»ä½“ç­‰éƒ½å†™å‡ºæ¥

ä½†æ˜¯ **declaration å£°æ˜** æ˜¯ä¸€ä¸ªæ–°çš„æ¦‚å¿µï¼ŒChatGPT å®šä¹‰å¦‚ä¸‹

> Declaration introduces a name and its associated type to the compiler, allowing you to use that name in your code without providing the actual implementation details. It tells the compiler that a variable, function, or class exists and will be defined later, either in the same file or another translation unit (source file). Declarations are necessary for the compiler to perform type-checking and ensure that you are using identifiers correctly.

ç®€å•æ¥è¯´ï¼Œå£°æ˜å°±æ˜¯å‘Šè¯‰ç¼–è¯‘å™¨ï¼Œâ€œå˜¿ï¼Œæˆ‘è¿™é‡Œæœ‰ä¸ªä¸œè¥¿å­˜åœ¨ï¼Œä½†æ˜¯ä»–çš„å®šä¹‰åœ¨åˆ«çš„æ–‡ä»¶ï¼Œä¸è¿‡ä½ å¯ä»¥è°ƒç”¨ä»–ï¼Œæ²¡é—®é¢˜ï¼â€

ä¸‹é¢æ˜¯å˜é‡å’Œå‡½æ•°çš„å£°æ˜

```c++
// Declaration of the variable "myVariable" of type int
extern int myVariable;

// Declaration of the function "add" that takes two int parameters and returns an int
int add(int a, int b);
```

ç°åœ¨æœ‰å¦ä¸€ä¸ªé—®é¢˜ï¼šä¸ºä»€ä¹ˆç¼–è¯‘å™¨çŸ¥é“çœŸæœ‰ä¸€ä¸ª `add` å‡½æ•°å¯è°ƒç”¨å‘¢ï¼Ÿç­”æ¡ˆæ˜¯ç¼–è¯‘å™¨çœŸä¸çŸ¥é“ï¼Œä»–å°±æ˜¯çœŸä¿¡ä»»æˆ‘ä»¬ï¼Œä»–æ˜¯çœŸçš„ä¼šè°ƒç”¨è¿™ä¸ªå£°æ˜çš„å‡½æ•°ã€‚è¦è®©è¿™ä¸ªå‡½æ•°èƒ½å¤Ÿè¢«æ­£å¸¸è°ƒç”¨ï¼Œå°±éœ€è¦è¿æ¥å™¨ï¼ˆlinkersï¼‰çš„å¸®å¿™ï¼Œè®©è¿™ä¸ªå£°æ˜çš„å‡½æ•°å’Œå…¶ä¸»é¢˜è”ç³»èµ·æ¥

### Command

vscode ä¸­çš„ C++ æ’ä»¶åœ¨æ‰§è¡Œ run task ä¹‹ç±»çš„ç¼–è¯‘å‘½ä»¤æ—¶ï¼Œæœ¬è´¨ä¸Šå°±æ˜¯åœ¨ terminal ä¸­è¿è¡Œå‘½ä»¤

```terminal
g++ files -o xxx.exe
```

è€Œå‘½ä»¤ä¸­çš„å‚æ•°ä¹Ÿæ˜¯éå¸¸é‡è¦çš„ï¼Œæ¯”å¦‚ä½ æœ‰ä¸¤ä¸ªæ–‡ä»¶ `log.cpp & main.cpp`

```txt
- Learn_C++
	- log.cpp
	- main.cpp
```

`main.cpp` ä¸­ä½¿ç”¨çš„ä»£ç åŒ…å«äº† `log.cpp`ï¼Œå°¤å…¶æ˜¯ä½¿ç”¨çš„å£°æ˜ï¼Œè€Œæ²¡æœ‰æ˜¾å¼ include

```c++
#include <iostream>

//  declaration 
void log(const char* message);

int main()
{
    log("hello");
    return 0;
}
```

å°±éœ€è¦å°†ä¸¤ä¸ªæ–‡ä»¶ä¸€èµ·ç¼–è¯‘ï¼Œè¿™æ · linkers æ‰èƒ½æ‰¾åˆ° `log`

```terminal
g++ main.cpp log.cpp -o out
```

## è¾“å…¥è¾“å‡º

ä½¿ç”¨ `cin & cout & << >>` æ¥å®Œæˆ

```c++
cin >> name >> age;
// equal
cin >> name;
cin >> age;

cout >> name >> age >> endl;
```

äºŒè€…çš„åŠŸèƒ½æ˜¯æ¥å—ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œé‡åˆ°ç©ºæ ¼ã€tabã€å›è½¦ç»“æŸ

## æ•°æ®ç±»å‹

bool	char	int	float	double	void	string

ä¸Šé¢å°±æ˜¯ C++ çš„åŸºæœ¬ç±»å‹ï¼Œè¿˜å¯ä»¥åŠ å…¥ä¸€äº›ä¿®é¥°ï¼šsigned, unsigned, short, long

typedef å£°åï¼Œå¯ä»¥ä¸ºä¸€ä¸ªå·²æœ‰çš„ç±»å‹å–ä¸€ä¸ªæ–°çš„åå­—

```c++
typedef type newname;
```

æšä¸¾å˜é‡çš„å€¼åªèƒ½å–æšä¸¾å¸¸é‡è¡¨ä¸­æ‰€åˆ—çš„å€¼ï¼Œå°±æ˜¯æ•´å‹æ•°çš„ä¸€ä¸ªå­é›†

æšä¸¾å˜é‡åªèƒ½å‚ä¸èµ‹å€¼å’Œå…³ç³»è¿ç®—ä»¥åŠè¾“å‡ºæ“ä½œï¼Œå‚ä¸è¿ç®—æ—¶ç”¨å…¶æœ¬èº«çš„æ•´æ•°å€¼

```c++
enum color { red, green, blue } c;
c = blue;
```

ä»¥ä¸Šè¯­å¥å®Œæˆäº†ä¸¤ä¸ªå·¥ä½œï¼š

1. è®© color æˆä¸ºäº†ä¸€ä¸ªæ–°ç±»çš„åç§°ï¼Œå°±åƒç»“æ„ä½“ä¸€æ ·ã€‚ç„¶åæ–°å»ºäº†ä¸€ä¸ª color ç±»å‹çš„å˜é‡ c
2. red green blue ä½œä¸ºç¬¦å·å¸¸é‡ï¼Œå¯¹åº”æ•´æ•°å€¼ 0 1 2

## å˜é‡

å˜é‡æ˜¯ç±»å‹çš„å®ä¾‹ï¼Œå˜é‡åç§°å¯ç”±å­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿ç»„æˆ

å®šä¹‰ä¸€ä¸ªå˜é‡

```c++
type varialble_list;
type variable_name = value;

// examples
int    i, j=1, k;
char   c, ch;
float  f, s;
double d;
```

å£°æ˜å˜é‡ï¼ŒåŒºåˆ«äºå®šä¹‰å˜é‡ï¼Œä»…ç”¨äºå‘ç¨‹åºè¡¨æ˜å˜é‡çš„ç±»å‹å’Œåå­—ï¼Œå£°æ˜ä¸ç»™å˜é‡åˆ†é…ç©ºé—´ã€‚å£°æ˜ä½¿ç”¨ extern å…³é”®å­—å®Œæˆ

```c++
extern int a, b;
```

ä¸€ä¸ªå˜é‡å¯å£°æ˜å¤šæ¬¡ï¼Œåªèƒ½è¢«å®šä¹‰ä¸€æ¬¡

### å˜é‡ä½œç”¨åŸŸ

ä½œç”¨åŸŸæ˜¯ç¨‹åºçš„ä¸€ä¸ªåŒºåŸŸï¼Œä¸€èˆ¬æ¥è¯´æœ‰ä¸‰ä¸ªåœ°æ–¹å¯ä»¥å®šä¹‰å˜é‡ï¼š

- åœ¨å‡½æ•°æˆ–ä¸€ä¸ªä»£ç å—å†…éƒ¨å£°æ˜çš„å˜é‡ï¼Œç§°ä¸º**å±€éƒ¨å˜é‡**ã€‚å®ƒä»¬åªèƒ½è¢«å‡½æ•°å†…éƒ¨æˆ–è€…ä»£ç å—å†…éƒ¨çš„è¯­å¥ä½¿ç”¨
- åœ¨æ‰€æœ‰å‡½æ•°å¤–éƒ¨å£°æ˜çš„å˜é‡ï¼ˆé€šå¸¸æ˜¯åœ¨ç¨‹åºçš„å¤´éƒ¨ï¼‰ï¼Œç§°ä¸º**å…¨å±€å˜é‡ã€‚**å…¨å±€å˜é‡çš„å€¼åœ¨ç¨‹åºçš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸå†…éƒ½æ˜¯æœ‰æ•ˆçš„
- åœ¨å‡½æ•°å‚æ•°çš„å®šä¹‰ä¸­å£°æ˜çš„å˜é‡ï¼Œç§°ä¸º**å½¢å¼å‚æ•°**

åœ¨ç¨‹åºä¸­ï¼Œå±€éƒ¨å˜é‡å’Œå…¨å±€å˜é‡çš„åç§°å¯ä»¥ç›¸åŒï¼Œä½†æ˜¯åœ¨å‡½æ•°å†…ï¼Œå±€éƒ¨å˜é‡çš„å€¼ä¼šè¦†ç›–å…¨å±€å˜é‡çš„å€¼

### å¸¸é‡

å®šä¹‰å¸¸é‡æœ‰ä¸¤ç§æ–¹å¼

- ä½¿ç”¨ **#define** é¢„å¤„ç†å™¨
- ä½¿ç”¨ **const** å…³é”®å­—

```c++
#define LENGTH 10   
#define WIDTH  5
#define NEWLINE '\n'
 
const int  LENGTH = 10;
const int  WIDTH  = 5;	
const char NEWLINE = '\n';
```

å­—ç¬¦ä¸²å¸¸é‡æ˜¯ç”¨åŒå¼•å· `""` è¡¨ç¤ºï¼Œå•ä¸ªå­—ç¬¦ç”¨å•å¼•å· `''`

### static, extern, mutable

C++ ç¨‹åºä¸­å˜é‡/å‡½æ•°çš„èŒƒå›´ï¼ˆå¯è§æ€§ï¼‰å’Œç”Ÿå‘½å‘¨æœŸã€‚è¿™äº›è¯´æ˜ç¬¦æ”¾ç½®åœ¨å®ƒä»¬æ‰€ä¿®é¥°çš„ç±»å‹ä¹‹å‰ï¼Œæˆ‘ä»¬è¿›è¡Œåˆ†åˆ«ä»‹ç»ï¼Œæœ€å¤æ‚çš„å°±æ˜¯ staticï¼Œå‰©ä½™çš„ä¸¤ä¸ªæ¯”è¾ƒç®€å•

- static

  - ç”¨äº global variable or function

    è¡¨æ˜è¯¥å…¨å±€å˜é‡/å‡½æ•°åªåœ¨è¯¥ translation unit ä¸­å­˜åœ¨

  - ç”¨äº function variable

    é‚£ä¹ˆè¯¥å˜é‡åœ¨å‡½æ•°ä¸­ä¼šæŒç»­å­˜åœ¨ï¼Œä¸ä¼šæ¯ä¸€æ¬¡éƒ½åˆå§‹åŒ–

    ```c++
    void foo() {
        // Static local variable
        static int count = 0;
        count++;
        std::cout << "Count: " << count << std::endl;
    }
    
    int main() {
        foo(); // Output: Count: 1
        foo(); // Output: Count: 2
    }
    ```

  - ç”¨äº class

    åœ¨ class ä¸­ä¿®é¥°å˜é‡æ—¶ï¼Œè¿™ä¸ªå˜é‡ä¼šè¢«æ‰€æœ‰è¯¥ç±»çš„å®ä¾‹æ‰€å…±äº«

    åœ¨ class ä¸­ä¿®é¥°æ–¹æ³•æ—¶ï¼Œè¿™ä¸ªæ–¹æ³•å°†ä¼šå±äºè¯¥ç±»ï¼Œè€Œä¸æ˜¯ä»»æ„å®ä¾‹ï¼Œå‚è€ƒ python @staticmethod

- extern ç”¨äº global variable

  è¡¨æ˜è¯¥å…¨å±€å˜é‡åœ¨å¦å¤–çš„ translation unit è¢«å®šä¹‰ï¼Œä½†ä¹Ÿæ— æ³• link to static ä¿®é¥°çš„å˜é‡

- mutable ç”¨äº class member variable

  è¡¨ç¤ºè¯¥å˜é‡å³ä½¿è¢« const ä¿®é¥°ä¹Ÿèƒ½å¤Ÿä¿®æ”¹

## è¿ç®—ç¬¦

ç®—æ•°è¿ç®—ç¬¦åŸºæœ¬æ˜¯é€šç”¨çš„ï¼š`+ - * / % ++ --`

å…³ç³»è¿ç®—ç¬¦åŸºæœ¬æ˜¯é€šç”¨çš„ï¼š`== != > < >= <=`

é€»è¾‘è¿ç®—ç¬¦ï¼š`&& || !`	åˆ†åˆ«è¡¨ç¤ºä¸ï¼Œæˆ–ï¼Œé

ä½è¿ç®—ç¬¦åŸºæœ¬æ˜¯é€šç”¨çš„ï¼š`& | ^` åˆ†åˆ«è¡¨ç¤ºä¸ï¼Œæˆ–ï¼Œå¼‚æˆ–

èµ‹å€¼è¿ç®—ç¬¦åŸºæœ¬æ˜¯é€šç”¨çš„ï¼š`== += -= *= ...`

æ‚é¡¹è¿ç®—ç¬¦ï¼š

1. `sizeof` è¿”å›å˜é‡å¤§å°
2. `condition ? X: Y` å¦‚æœ Condition ä¸ºçœŸ ? åˆ™å€¼ä¸º X : å¦åˆ™å€¼ä¸º Y
3. `. & ->` ä¸ºæˆå‘˜è¿ç®—ç¬¦ï¼Œç”¨äºå¼•ç”¨ç±»ã€ç»“æ„å’Œå…±ç”¨ä½“çš„æˆå‘˜
4. `Cast` å¼ºåˆ¶è½¬æ¢è¿ç®—ç¬¦ï¼ŒæŠŠä¸€ç§æ•°æ®ç±»å‹è½¬æ¢ä¸ºå¦ä¸€ç§
5. `&, *` **æŒ‡é’ˆè¿ç®—ç¬¦**ï¼Œå‰è€…è¿”å›å˜é‡çš„åœ°å€ï¼Œåè€…æŒ‡å‘ä¸€ä¸ªå˜é‡ï¼ˆè®¿é—®å˜é‡ï¼‰

## å¾ªç¯ä¸åˆ¤æ–­

å¾ªç¯æœ‰å‡ ç§è¯­æ³•ï¼š

1. while & do while å¾ªç¯ 

   ```c++
   while(condition)
   {
      statement(s);
   }
   
   do
   {
      statement(s);
   }while( condition );
   ```

2. for å¾ªç¯

   ```c++
   for ( init; condition; increment )
   {
      statement(s);
   }
   ```

ä½¿ç”¨ break & continue å¯æ‰“ç ´å¾ªç¯

åˆ¤æ–­è¯­å¥æœ‰å¦‚ä¸‹å‡ ç§æ–¹å¼ï¼š

1. if & if else è¯­å¥

   ```c++
   if(boolean_expression 1)
   {	statement(s)
   }
   else if( boolean_expression 2)
   {	statement(s)
   }
   else 
   {	statement(s)
   }
   ```

## å‡½æ•°

æ¯ä¸ª C++ ç¨‹åºéƒ½è‡³å°‘æœ‰ä¸€ä¸ªå‡½æ•°ï¼Œå³ä¸»å‡½æ•° **main()** 

C++ ä¸­çš„å‡½æ•°å®šä¹‰çš„ä¸€èˆ¬å½¢å¼å¦‚ä¸‹

```c++
return_type function_name( parameter list )
{
   body of the function
}
```

å‚æ•°åˆ—è¡¨åŒ…æ‹¬å‡½æ•°å‚æ•°çš„ç±»å‹ã€åç§°ï¼Œå‚æ•°çš„åç§°å¹¶ä¸é‡è¦ï¼Œåªæœ‰å‚æ•°çš„ç±»å‹æ˜¯å¿…éœ€çš„ï¼ˆä½†æ²¡æœ‰åç§°æ€ä¹ˆè°ƒç”¨å‘¢ğŸ¤£

è¿™äº›å‚æ•°ç§°ä¸ºå‡½æ•°çš„**å½¢å¼å‚æ•°**ï¼Œå½¢å¼å‚æ•°å°±åƒå‡½æ•°å†…çš„å…¶ä»–å±€éƒ¨å˜é‡ï¼Œåœ¨è¿›å…¥å‡½æ•°æ—¶è¢«åˆ›å»ºï¼Œé€€å‡ºå‡½æ•°æ—¶è¢«é”€æ¯

### å‡½æ•°å‚æ•°

ä¸‰ç§ä¼ é€’å‚æ•°ï¼š

1. ä¼ å€¼è°ƒç”¨ã€‚ä¸æ”¹å˜å®é™…å‚æ•°å€¼
2. æŒ‡é’ˆè°ƒç”¨å’Œå¼•ç”¨è°ƒç”¨ã€‚ä¼šæ”¹å˜å®é™…å‚æ•°å€¼

å‚æ•°ä¹Ÿå¯ä»¥æŒ‡å®šé»˜è®¤å€¼ï¼Œæˆä¸ºå¯é€‰å‚æ•°

## æ•°ç»„

åœ¨ C++ ä¸­è¦å£°æ˜ä¸€ä¸ªæ•°ç»„ï¼Œéœ€è¦æŒ‡å®šå…ƒç´ çš„ç±»å‹å’Œå…ƒç´ çš„æ•°é‡

```c++
type arrayName [ arraySize ];

double balance[5] = {1000.0, 2.0, 3.4, 7.0, 50.0};
double balance[] = {1000.0, 2.0, 3.4, 7.0, 50.0};
```

C++ æ”¯æŒå¤šç»´æ•°ç»„ã€‚å¤šç»´æ•°ç»„å£°æ˜çš„ä¸€èˆ¬å½¢å¼å¦‚ä¸‹

```c++
type name[size1][size2]...[sizeN];
```

æ•°ç»„åæ˜¯æŒ‡å‘æ•°ç»„ä¸­ç¬¬ä¸€ä¸ªå…ƒç´ çš„å¸¸é‡æŒ‡é’ˆï¼Œä»…åœ¨ä½¿ç”¨ sizeof æ—¶åŒºåˆ«äºä¸€èˆ¬æŒ‡é’ˆï¼Œæ­¤æ—¶å°†è¿”å›æ•´ä¸ªæ•°ç»„çš„é•¿åº¦

C++ ä¼ æ•°ç»„ç»™ä¸€ä¸ªå‡½æ•°ï¼Œæ•°ç»„ç±»å‹è‡ªåŠ¨è½¬æ¢ä¸ºæŒ‡é’ˆç±»å‹ï¼Œå› è€Œä¼ çš„å®é™…æ˜¯åœ°å€ï¼Œä¸€ä¸‹ä¸‰ç§æ–¹æ³•éƒ½å¯ä»¥

```c++
void myFunction(int *param)
void myFunction(int param[10])
void myFunction(int param[])
```

## æŒ‡é’ˆ

æ¯ä¸€ä¸ªå˜é‡éƒ½æœ‰ä¸€ä¸ªå†…å­˜ä½ç½®ï¼Œå¯ä½¿ç”¨è¿å­—å·ï¼ˆ&ï¼‰è¿ç®—ç¬¦è®¿é—®

**æŒ‡é’ˆ**æ˜¯ä¸€ä¸ªå˜é‡ï¼Œå…¶å€¼ä¸ºå¦ä¸€ä¸ªå˜é‡çš„åœ°å€ï¼ŒæŒ‡é’ˆå˜é‡å£°æ˜çš„ä¸€èˆ¬å½¢å¼ä¸º

```c++
type* var-name;

int* ip;
double* dp;
float* fp;
char* ch;
```

æ‰€æœ‰æŒ‡é’ˆçš„å€¼çš„å®é™…æ•°æ®ç±»å‹ï¼Œ**éƒ½æ˜¯ä¸€ä¸ªä»£è¡¨å†…å­˜åœ°å€çš„é•¿çš„åå…­è¿›åˆ¶æ•°**ï¼Œä¸ç±»å‹æ— å…³ï¼å¤§å°é€šå¸¸ä¸º 8 byte (64 bit)

```c++
0xd9603ff6d4	// 0x indicates Hexadecimal
```

å°½ç®¡æŒ‡é’ˆæœ¬èº«çš„å¤§å°æ˜¯8ä¸ªå­—èŠ‚ï¼Œä½†åœ¨è¾“å‡ºæŒ‡é’ˆåœ°å€æ—¶ï¼Œè¾“å‡ºçš„åœ°å€å¯èƒ½åªæ˜¾ç¤ºäº†ä¸€éƒ¨åˆ†ã€‚è¿™æ˜¯å› ä¸ºæ§åˆ¶å°è¾“å‡ºé€šå¸¸åªæ˜¾ç¤ºè¶³å¤Ÿçš„ä½æ•°æ¥è¡¨ç¤ºå†…å­˜åœ°å€ï¼Œè€Œä¸ä¼šå°†å®Œæ•´çš„åœ°å€æ‰“å°å‡ºæ¥

**é‚£ä¹ˆç±»å‹ä»£è¡¨äº†ä»€ä¹ˆå‘¢ï¼Ÿ**

é¦–å…ˆéœ€è¦å†æ¬¡å¼ºè°ƒçš„æ˜¯ï¼Œ**æŒ‡é’ˆåªæ˜¯ä¸€ä¸ªåœ°å€**ï¼Œé€šè¿‡è®¿é—®è¯¥åœ°å€èƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬å¯¹å†…å­˜è¿›è¡Œå„ç§æ“ä½œã€‚é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œå†…å­˜ç›¸å½“äºæ˜¯ä¸€ç‰‡è¿ç»­çš„ç©ºé—´ï¼Œæˆ‘åªæ˜¯çŸ¥é“ï¼ˆèµ·å§‹ï¼‰åœ°å€ï¼Œæˆ‘è¦å¦‚ä½•æ“ä½œè¿™ä¸€æ•´ç‰‡ç©ºé—´å‘¢ï¼Ÿè¿™é‡Œå°±éœ€è¦ type æ¥è¯ é‡Šäº†ï¼Œä¸‹é¢æ˜¯ ChatGPT çš„ä¸€æ®µè§£é‡Š

> the type of a pointer is essential for correct memory manipulation and data interpretation when dereferencing the pointer or performing pointer arithmetic. 

ä¸Šé¢çš„è¡¨æ˜ï¼šç±»å‹èƒ½å¤Ÿå¸®åŠ©æŒ‡é’ˆå»æ“ä½œå’Œè§£é‡Šå†…å­˜ã€‚ä»ä¸¤ä¸ªæ–¹é¢æ¥ä¸¾ä¾‹å­ï¼š

1. dereferencingï¼Œå°±æ˜¯é€†å¼•ç”¨ã€‚å¯¹äºæŸæŒ‡é’ˆ `p`ï¼Œæˆ‘ä»¬è·å¾—ä»–çš„é€†å¼•ç”¨ `*p` å³èƒ½è·å¾—æŒ‡é’ˆæ‰€æŒ‡çš„å†…å®¹ï¼Œè¿™ä¸ªå†…å®¹å¦‚æœéƒ½æ˜¯ 8 bitï¼Œé‚£ä¹ˆä»–æ˜¯ä¸ª int è¿˜æ˜¯ä¸ª float å‘¢ï¼Ÿæ‰€ä»¥æ ¹æ®ä¸åŒçš„ç±»å‹ï¼ŒæŒ‡é’ˆä¼šå¯¹è¿™æ®µå†…å­˜åšä¸åŒçš„è¯ é‡Šï¼Œä»è€Œè¿”å›æˆ‘ä»¬æ‰€æœŸå¾…çš„å†…å®¹
2. pointer arithmeticã€‚æˆ‘ä»¬ç»å¸¸ä½¿ç”¨çš„ `p++`ï¼Œä¹Ÿå°±æ˜¯æŒ‡é’ˆå¾€ä¸‹ç§»åŠ¨ä¸€ä¸ªä½ç½®ï¼Œé‚£åˆ°åº•ç§»åŠ¨å¤šå°‘ä¸ª bitï¼Ÿè¿™ä¹Ÿæ˜¯æ ¹æ®æŒ‡é’ˆç±»å‹å»å†³å®šçš„

ä¸ç®¡æ˜¯æ•´å‹ã€æµ®ç‚¹å‹ã€å­—ç¬¦å‹ï¼Œè¿˜æ˜¯å…¶ä»–çš„æ•°æ®ç±»å‹ï¼Œéƒ½æ˜¯ä¸€æ ·çš„ï¼Œå…³äºæŒ‡é’ˆçš„å‡ ç‚¹ï¼š

1. NULL è¡¨ç¤ºç©ºæŒ‡é’ˆ

2. å¯å¯¹æŒ‡é’ˆè¿›è¡Œå››ç§ç®—æ•°è¿ç®—ï¼Œ`++, --, +, -`

3. å¯ä»¥å®šä¹‰ä¸€ä¸ªæŒ‡é’ˆæ•°ç»„ï¼Œå³æ•°ç»„ä¸­çš„æ¯ä¸€ä¸ªå€¼æ˜¯ä¸€ä¸ªæŒ‡é’ˆ

4. å¯ä»¥å®šä¹‰å¤šä¸ª `**`ï¼Œè¡¨ç¤ºåµŒå¥—çš„æŒ‡é’ˆï¼Œå¯ç”¨äºå­˜å‚¨æŒ‡é’ˆçš„åœ°å€ï¼Œå³åœ°å€çš„åœ°å€

   ```c++
   #include <iostream>
    
   using namespace std;
    
   int main ()
   {
       int  var;
       int* ptr;
       int** pptr;
    
       var = 3000;
    
       ptr = &var;
    
       pptr = &ptr;
    }
   ```

5. å¯å®šä¹‰è¿”å›æŒ‡é’ˆçš„å‡½æ•°

   ```c++
   int* myFunction()
   ```

   ä¹Ÿå¯å®šä¹‰æŒ‡å‘å‡½æ•°çš„æŒ‡é’ˆ

   ```c++
   int (*p)(int, int) = & max; // & is not must
   int a;
   a = p(1, 2);
   // p is a pointer, which can point to a function
   // max is a function, and `max` identifier is an adress
   ```

## å¼•ç”¨

è¿™æ˜¯å’ŒæŒ‡é’ˆéå¸¸ç›¸ä¼¼çš„æ¦‚å¿µï¼Œå¼•ç”¨çš„æœ¬è´¨æ˜¯åœ¨ C++ å†…éƒ¨å®ç°çš„ä¸€ä¸ªæŒ‡é’ˆå¸¸é‡

```c++
Type& ref = val;

// understand the reference
Type* const ref_ = &val;
// ref equals *ref_
```

æ‰€ä»¥å¯ä»¥ç†è§£ä¸ºï¼Œå¼•ç”¨å°±æ˜¯å¸¸é‡æŒ‡é’ˆçš„dereference

C++ ç¼–è¯‘å™¨åœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­ä½¿ç”¨å¸¸é‡æŒ‡é’ˆä½œä¸ºå¼•ç”¨çš„å†…éƒ¨å®ç°ï¼Œå› æ­¤å¼•ç”¨å ç”¨çš„ç©ºé—´å¤§å°ä¸æŒ‡é’ˆç›¸åŒï¼Œåªæ˜¯è¿™ä¸ªè¿‡ç¨‹æ˜¯ç¼–è¯‘å†…éƒ¨å®ç°ï¼Œç”¨æˆ·ä¸å¯è§

æ‰€ä»¥å¼•ç”¨ä¸æŒ‡é’ˆçš„åŒºåˆ«å¯æ€»ç»“å¦‚ä¸‹ï¼š

1. ä¸€æ—¦å¼•ç”¨è¢«åˆå§‹åŒ–ä¸ºä¸€ä¸ªå¯¹è±¡ï¼Œå°±ä¸èƒ½è¢«æŒ‡å‘åˆ°å¦ä¸€ä¸ªå¯¹è±¡ã€‚æŒ‡é’ˆå¯ä»¥åœ¨ä»»ä½•æ—¶å€™æŒ‡å‘åˆ°å¦ä¸€ä¸ªå¯¹è±¡ã€‚
2. å¼•ç”¨å¿…é¡»åœ¨åˆ›å»ºæ—¶è¢«åˆå§‹åŒ–ã€‚æŒ‡é’ˆå¯ä»¥åœ¨ä»»ä½•æ—¶é—´è¢«åˆå§‹åŒ–ã€‚

å¼•ç”¨çš„å¸¸ç”¨ç”¨æ³•å¦‚ä¸‹ï¼š

1. **æŠŠå¼•ç”¨ä½œä¸ºå‚æ•°ã€‚**è¿™æ¯”ä¼ ä¸€èˆ¬çš„å‚æ•°æ›´å®‰å…¨ï¼Œå¯æ›´æ–¹ä¾¿åœ°å¯¹å‚æ•°å®ç°ä¿®æ”¹
2. æŠŠå¼•ç”¨ä½œä¸ºè¿”å›å€¼ã€‚å½“å‡½æ•°è¿”å›ä¸€ä¸ªå¼•ç”¨æ—¶ï¼Œåˆ™è¿”å›ä¸€ä¸ªæŒ‡å‘è¿”å›å€¼çš„éšå¼æŒ‡é’ˆã€‚è¿™æ ·ï¼Œå‡½æ•°å°±å¯ä»¥æ”¾åœ¨èµ‹å€¼è¯­å¥çš„å·¦è¾¹

### const

æ—¢ç„¶ä¸Šé¢å‡ºç°äº† const å…³é”®å­—ï¼Œè¿™é‡Œåœ¨ç»§ç»­ä»‹ç»ä¸€ä¸‹ const çš„ç”¨æ³•ã€‚è¿™é‡Œç”¨ä¸‰ä¸ªä¾‹å­æ¥è¯´æ˜

1. `const int* x`ï¼Œè¿™è¡¨æ˜æ— æ³•ä¿®æ”¹ `*x`ï¼Œä¹Ÿå°±æ˜¯æ— æ³•èµ‹å€¼äºå˜é‡ `*x=1` âŒ
2. `int* const x`ï¼Œè¿™è¡¨æ˜æ— æ³•ä¿®æ”¹ `x`ï¼Œä¹Ÿå°±æ˜¯æ— æ³•èµ‹å€¼äºæŒ‡é’ˆ `x=&y` âŒ
3. `int func() const`ï¼Œè¿™è¡¨æ˜æ— æ³•ä¿®æ”¹å‡½æ•°å†…çš„å˜é‡

æ‰€ä»¥è¯´ const çš„ä½œç”¨å°±æ˜¯**é™åˆ¶èµ‹å€¼æ“ä½œ**

ç”¨ const è¿˜å¯ä»¥æœ‰ä¸€äº›éªšæ“ä½œï¼Œæ¯”å¦‚

```c++
// within some class
const int* const GetX() const
{
    return m_X;
}
```

è¿ç»­ç”¨äº†ä¸‰ä¸ª const è¿™æ„å‘³ç€ï¼š

1. æ— æ³•èµ‹å€¼å‡½æ•°è¿”å›æŒ‡é’ˆ
2. æ— æ³•èµ‹å€¼å‡½æ•°è¿”å›æŒ‡é’ˆæ‰€æŒ‡çš„å˜é‡å€¼
3. æ— æ³•èµ‹å€¼å‡½æ•°å†…çš„å˜é‡

**ä½†æˆ‘ä»¬é€šå¸¸çœ‹åˆ°çš„ä½¿ç”¨æƒ…å†µå¦‚ä¸‹**

```c++
void Function(const Entity& e)
{
    //can't assign to e or its member
    e = Entity()	// errors
    e.x = 1			// errors
}
```

æˆ‘ä»¬ç»™å‡½æ•°ä¼ å…¥ä¸€ä¸ª const reference å¸¸é‡å¼•ç”¨ï¼Œè¿™æ ·æˆ‘ä»¬æ˜¯ä¸èƒ½å¤Ÿå¯¹è¯¥å¸¸é‡èµ‹å€¼ï¼Œä¹Ÿä¸èƒ½å¤Ÿä¿®æ”¹è¯¥å¸¸é‡çš„æˆå‘˜

## æ•°æ®ç»“æ„

### struct

struct è¯­å¥å®šä¹‰äº†ä¸€ä¸ªåŒ…å«å¤šä¸ªæˆå‘˜çš„æ–°çš„æ•°æ®ç±»å‹

```c++
struct type_name {
member_type1 member_name1;
member_type2 member_name2;
member_type3 member_name3;
.
.
} object_names;
```

ä¸ºäº†è®¿é—®ç»“æ„çš„æˆå‘˜ï¼Œæˆ‘ä»¬ä½¿ç”¨**æˆå‘˜è®¿é—®è¿ç®—ç¬¦ï¼ˆ.ï¼‰**

ç»“æ„æŒ‡é’ˆè®¿é—®æˆå‘˜åˆ™å¿…é¡»ä½¿ç”¨ç®­å¤´ `->`ï¼Œè¿™ä¹Ÿæ˜¯ `->` å”¯ä¸€ç”¨é€”

```c++
struct Books
{
   char  title[50];
   char  author[50];
};

void printBook( struct Books *book )
{
   cout << "title: " << book->title <<endl;
   cout << "author: " << book->author <<endl;
}
```

### typedef

å¯ä»¥ä½¿ç”¨å®ƒæ¥ä¸ºç±»å‹å–ä¸€ä¸ªæ–°çš„åå­—ã€‚**typedef** ä»…é™äºä¸ºç±»å‹å®šä¹‰ç¬¦å·åç§°ï¼Œ**#define** ä¸ä»…å¯ä»¥ä¸ºç±»å‹å®šä¹‰åˆ«åï¼Œä¹Ÿèƒ½ä¸ºæ•°å€¼å®šä¹‰åˆ«åï¼Œæ¯”å¦‚æ‚¨å¯ä»¥å®šä¹‰ 1 ä¸º ONE

```c++
typedef long int *pint32;
 
pint32 x, y, z;
```

x, y å’Œ z éƒ½æ˜¯æŒ‡å‘é•¿æ•´å‹ long int çš„æŒ‡é’ˆ
