---
title: Python 3 é¢å‘å¯¹è±¡
tags:
  - Python
  - é¢å‘å¯¹è±¡
  - æ•™ç¨‹
categories:
  - ç¼–ç¨‹
  - Python
  - Basic
abbrlink: 59bf225c
date: 2021-08-28 21:53:07
---

# python é¢å‘å¯¹è±¡

## é¢å‘å¯¹è±¡ç¼–ç¨‹

ä»€ä¹ˆæ˜¯é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼Ÿç”¨ä¸€æ®µè¯æè¿°é¢å‘å¯¹è±¡çš„æ€æƒ³ï¼š

> æŠŠä¸€ç»„æ•°æ®ç»“æ„å’Œå¤„ç†å®ƒä»¬çš„æ–¹æ³•ç»„æˆå¯¹è±¡ï¼ˆobjectï¼‰ï¼ŒæŠŠç›¸åŒè¡Œä¸ºçš„å¯¹è±¡å½’çº³ä¸ºç±»ï¼ˆclassï¼‰ï¼Œé€šè¿‡ç±»çš„å°è£…ï¼ˆencapsulationï¼‰éšè—å†…éƒ¨ç»†èŠ‚ï¼Œé€šè¿‡ç»§æ‰¿ï¼ˆinheritanceï¼‰å®ç°ç±»çš„ç‰¹åŒ–ï¼ˆspecializationï¼‰å’Œæ³›åŒ–ï¼ˆgeneralizationï¼‰ï¼Œé€šè¿‡å¤šæ€ï¼ˆpolymorphismï¼‰å®ç°åŸºäºå¯¹è±¡ç±»å‹çš„åŠ¨æ€åˆ†æ´¾

è¿™ä¸€æ®µè¯æˆ‘åœ¨ä¹‹å‰æ˜¯çœ‹å¾—äº‘é‡Œé›¾é‡Œï¼Œè¿™æ ·é«˜åº¦çš„æ¦‚æ‹¬è¿‡äºæŠ½è±¡ã€‚ç°åœ¨çœ‹è¿‡äº†ä¸€äº›ä»£ç è¿‡åï¼Œå†å›å¤´çœ‹è¿™æ®µè¯æ‰æ²¡é‚£ä¹ˆè¿·æƒ‘

## ç±»å’Œå¯¹è±¡

ç±»æ˜¯å¯¹è±¡çš„æ¨¡æ¿ï¼Œå¯¹è±¡æ˜¯ç±»çš„å®ä¾‹ã€‚åœ¨é¢å‘å¯¹è±¡çš„ä¸–ç•Œä¸­ï¼Œä¸€åˆ‡çš†ä¸ºå¯¹è±¡ã€‚ä¸‹é¢æ¥åˆ›å»ºä¸€ä¸ªç±»

```python
class Student:
    def __init__(self, name, age):
        self.name = name
        self.age = age
    
    def introduce(self):
        print("My name is %s. I'm %d." % (self.name, self.age))
```

ä¹‹å‰æåˆ°è¿‡ `__init__()` æ–¹æ³•åœ¨ç±»ä¸­å±äºç‰¹æ®Šæ–¹æ³•ï¼Œä¼šåœ¨åˆ›å»ºå¯¹è±¡çš„æ—¶å€™è‡ªåŠ¨è°ƒç”¨ã€‚é€šè¿‡è¿™ä¸ªæ–¹æ³•å¯ä»¥ç»™å¯¹è±¡ç»‘å®š `name` & `age` ä¸¤ä¸ªå±æ€§ï¼Œè¿™æ ·åœ¨å…¶ä»–æ–¹æ³•é‡Œå°±èƒ½å¤Ÿéšæ„è°ƒç”¨è¿™äº›å±æ€§ï¼Œè€Œä¸éœ€è¦å†æ¬¡ä¼ å…¥è¿™äº›å‚æ•°ã€‚ä¸‹é¢æ¥åˆ›å»º `Student` ç±»çš„å¯¹è±¡ï¼Œå¹¶ä½¿ç”¨å…¶å†…éƒ¨å‡½æ•°

```python
student_1 = Student('Declan', 23)
student_1.introduce()
# My name is Declan. I'm 23.
```

åˆ›å»ºå¯¹è±¡ï¼Œå°±æ˜¯å°†ç±»å®ä¾‹åŒ–ï¼Œå…·ä½“ä¸€ç‚¹æ¥è¯´ï¼šç»™ç±»ä¼ å…¥ä¸€äº›å‚æ•°ï¼Œè®©å…¶ä»æ¨¡æ¿ç§°ä¸ºäº†ä¸€ä¸ªå…·ä½“çš„å¯¹è±¡ã€‚å¯ä»¥çœ‹åˆ°åœ¨åˆ›å»ºçš„å¯¹è±¡çš„ä»£ç é‡Œï¼Œå¹¶æ²¡æœ‰æ˜¾å¼ä½¿ç”¨ï¼Œä¹Ÿä¸èƒ½æ˜¾å¼ä½¿ç”¨ç‰¹æ®Šæ–¹æ³• `__init__()` 

```python
# try this
student_2 = Student.__init__('Declan', 23)
```

è¿™æ ·åšä¸€å®šæ˜¯ä¼šæŠ¥é”™çš„ã€‚æ‰€ä»¥æ­£ç¡®çš„ç†è§£æ˜¯ï¼Œ`Student(name, age)` ä¸­çš„å‚æ•° `name` & `age` å°±æ˜¯ç»™ `__init__()` çš„å‚æ•°ï¼Œå¹¶åœ¨åˆ›å»ºå¯¹è±¡çš„æ—¶å€™è‡ªåŠ¨è¿è¡Œ `__init__()` æ–¹æ³•

### è®¿é—®å¯è§æ€§é—®é¢˜

åœ¨å¾ˆå¤šé¢å‘å¯¹è±¡ç¼–ç¨‹è¯­è¨€ä¸­ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šå°†å¯¹è±¡çš„å±æ€§è®¾ç½®ä¸ºç§æœ‰çš„ï¼ˆprivateï¼‰æˆ–å—ä¿æŠ¤çš„ï¼ˆprotectedï¼‰ï¼Œç®€å•çš„è¯´å°±æ˜¯ä¸å…è®¸å¤–ç•Œè®¿é—®ï¼Œè€Œå¯¹è±¡çš„æ–¹æ³•é€šå¸¸éƒ½æ˜¯å…¬å¼€çš„ï¼ˆpublicï¼‰ï¼Œåœ¨ Python ä¸­ï¼Œå±æ€§å’Œæ–¹æ³•çš„è®¿é—®æƒé™åªæœ‰ä¸¤ç§ï¼Œä¹Ÿå°±æ˜¯å…¬å¼€çš„å’Œç§æœ‰çš„ï¼Œå¦‚æœå¸Œæœ›å±æ€§æ˜¯ç§æœ‰çš„ï¼Œåœ¨ç»™å±æ€§å‘½åæ—¶å¯ä»¥ç”¨ä¸¤ä¸ªä¸‹åˆ’çº¿ä½œä¸ºå¼€å¤´

```python
class Test:
    def __init__(self):
        self.__private = 'private'
        self.__func()
        
        
    def __func(self):
        print(self.__private)
        print('this function is private')

test = Test()
# private
# this function is private
print(test.__private)
# AttributeError: 'Test' object has no attribute '__private'
# ç›´æ¥è®¿é—®è¢«é˜»æ‹¦ï¼Œä½†æ‹ä¸ªå¼¯è¿˜æ˜¯æœ‰æ–¹æ³•èƒ½å¤Ÿè®¿é—®
print(test._Test__private)
# private
```

å¯ä»¥çœ‹åœ¨ç±»çš„å†…éƒ¨è°ƒç”¨è¿™äº›ç§æœ‰å˜é‡å’Œå‡½æ•°æ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼Œä½†æ˜¯æƒ³è¦åœ¨å‡½æ•°ä¹‹å¤–ç›´æ¥è®¿é—®è¿™äº›å˜é‡å’Œå‡½æ•°æ˜¯è¢«ç¦æ­¢çš„ã€‚åœ¨å®é™…å¼€å‘ä¸­ï¼Œæˆ‘ä»¬å¹¶ä¸å»ºè®®å°†å±æ€§è®¾ç½®ä¸ºç§æœ‰çš„ï¼Œå› ä¸ºè¿™ä¼šå¯¼è‡´å­ç±»æ— æ³•è®¿é—®ï¼ˆåé¢ä¼šè®²åˆ°ï¼‰ã€‚æ‰€ä»¥å¤§å¤šæ•° Python ç¨‹åºå‘˜ä¼šéµå¾ªä¸€ç§å‘½åæƒ¯ä¾‹å°±æ˜¯è®©å±æ€§åä»¥å•ä¸‹åˆ’çº¿å¼€å¤´å¦‚ `_name`ï¼Œæ¥è¡¨ç¤ºå±æ€§æ˜¯å—ä¿æŠ¤çš„ï¼Œæœ¬ç±»ä¹‹å¤–çš„ä»£ç åœ¨è®¿é—®è¿™æ ·çš„å±æ€§æ—¶åº”è¯¥è¦ä¿æŒæ…é‡

## ç±»çš„æ–¹æ³•

### self

ç±»çš„æ–¹æ³•ä¸æ™®é€šçš„å‡½æ•°åªæœ‰ä¸€ä¸ªç‰¹åˆ«çš„åŒºåˆ«â€”â€”å®ƒä»¬å¿…é¡»æœ‰ä¸€ä¸ªé¢å¤–çš„**ç¬¬ä¸€ä¸ªå‚æ•°åç§°**ï¼ŒæŒ‰ç…§æƒ¯ä¾‹å®ƒçš„åç§°æ˜¯ selfï¼Œå½“ç„¶ä¹Ÿå¯ä»¥å«å…¶å®ƒåå­—ï¼Œä¸‹é¢çœ‹çœ‹è¿™ä¸ª self åˆ°åº•ä»£è¡¨äº†ä»€ä¹ˆ

```python
class Test:
	def __init__(SELF):
		print(SELF.__class__)
	
	def pointer_self(self):
		print(self)
		
test = Test()
test.pointer_self()
# <class '__main__.Test'>
# <__main__.Test object at 0x000001B64F611040>
```

ä»æ‰§è¡Œç»“æœå¯ä»¥å¾ˆæ˜æ˜¾çš„çœ‹å‡ºï¼Œself ä»£è¡¨çš„æ˜¯ç±»çš„å®ä¾‹ï¼Œä»£è¡¨å½“å‰å¯¹è±¡çš„åœ°å€ï¼Œè€Œ self.class åˆ™æŒ‡å‘ç±»

## ç»§æ‰¿

å¦‚æœä¸€ç§è¯­è¨€ä¸æ”¯æŒç»§æ‰¿ï¼Œç±»å°±æ²¡æœ‰ä»€ä¹ˆæ„ä¹‰ã€‚å­ç±»ä¼šç»§æ‰¿çˆ¶ç±»ï¼ˆä¹Ÿå«åŸºç±»ï¼‰çš„å±æ€§å’Œæ–¹æ³•ï¼Œè€Œä¸”è¿˜å¯ä»¥å®šä¹‰è‡ªå·±çš„å±æ€§å’Œæ–¹æ³•ï¼Œæ‰€ä»¥å­ç±»æ¯”çˆ¶ç±»æ‹¥æœ‰æ›´å¤šçš„èƒ½åŠ›ï¼Œä¸‹é¢çœ‹ä¸€ä¸ªç®€çŸ­çš„ä»£ç ï¼Œç†è§£ç»§æ‰¿æœºåˆ¶çš„é€»è¾‘

```python
# è¿™æ˜¯ä¹‹å‰å†™çš„å­¦ç”Ÿç±»
class Student:
    def __init__(self, name, age):
        self.name = name
        self.age = age
        self.log = 'this is a student'
    
    def introduce(self):
        print("My name is %s. I'm %d." % (self.name, self.age))
   
# ç°åœ¨å»ºç«‹ä¸€ä¸ªæœ¬ç§‘ç”Ÿç±»
class Undergraduate(Student):
    def __init__(self, name, age, grade):
        # åœ¨å­ç±»ä¸­è°ƒç”¨çˆ¶ç±»çš„æ–¹æ³•
        super().__init__(name, age)
        self.grade = grade

    def which_grade(self):
        print('My grade is %d.' % self.grade)
    
    # åœ¨å¤šæ€çš„æ—¶å€™å–æ¶ˆæ³¨é‡Š
    # def introduce(self):
    #     print("Hello! My name is %s. I'm %d." % (self.name, self.age))

student_1 = Undergraduate('Declan', 18, 1)
student_1.which_grade()
# My grade is 1.

# å­ç±»å®ä¾‹ç›´æ¥ä½¿ç”¨çˆ¶ç±»çš„å±æ€§å’Œæ–¹æ³•
print(student_1.log)
student_1.introduce()
# this is a student
# My name is Declan. I'm 18.
```

é‡ç‚¹çš„å‡ ä¸ªé€»è¾‘ï¼š

1. å£°æ˜çˆ¶ç±»ï¼Œåœ¨å®šä¹‰çš„ç±»ååä¼ å…¥çˆ¶ç±»åå³å¯ï¼Œå¦‚ `class Undergraduate(Student)`
2. è°ƒç”¨çˆ¶ç±»ï¼Œé€šè¿‡ `super()` å‡½æ•°è°ƒç”¨çˆ¶ç±»ä¸­çš„å±æ€§ã€æ–¹æ³•ï¼Œå¦‚æœæ˜¯ python 2.x çš„è¯éœ€è¦ä½¿ç”¨ `super(å­ç±»å, self)` è°ƒç”¨
3. å®ä¾‹ä½¿ç”¨çˆ¶ç±»ï¼Œå­ç±»å®ä¾‹å¯ä»¥ç›´æ¥ä½¿ç”¨çˆ¶ç±»ä¸­çš„å±æ€§ã€æ–¹æ³•

## å¤šæ€

å­ç±»åœ¨ç»§æ‰¿äº†çˆ¶ç±»çš„æ–¹æ³•åï¼Œå¯ä»¥å¯¹çˆ¶ç±»å·²æœ‰çš„æ–¹æ³•ç»™å‡ºæ–°çš„å®ç°ç‰ˆæœ¬ï¼Œè¿™ä¸ªåŠ¨ä½œç§°ä¹‹ä¸ºæ–¹æ³•é‡å†™ï¼ˆoverrideï¼‰ï¼Œçˆ¶ç±»çš„æ–¹æ³•å¯ä»¥è¢«å¤šä¸ªå­ç±»è¿›è¡Œé‡å†™å¾—åˆ°å¤šä¸ªä¸åŒçš„å®ç°ç‰ˆæœ¬ï¼Œè¿™ä¸ªå°±æ˜¯å¤šæ€ï¼ˆpoly-morphismï¼‰

æŠŠä¸Šä¸€èŠ‚ä¸­å…³äºå¤šæ€çš„ä»£ç å–æ¶ˆæ³¨é‡Šï¼Œå†è°ƒç”¨ `introduce()` æ–¹æ³•

```python
student_1.introduce()
# Hello! My name is Declan. I'm 18.
```

å‘ç°æ¯”ä¹‹å‰çˆ¶ç±»çš„ `introduce()` å¤šæ‰“å°äº† `Hello!` é‡å†™æˆåŠŸï¼ 

## è¡¥å……ï¼šç±»çš„ç‰¹æ®Šæ–¹æ³•

è¿™äº›ç±»çš„ç‰¹æ®Šæ–¹æ³•ä¹Ÿå«é­”æœ¯æ–¹æ³•ï¼Œåœ¨ç‰¹æ®Šæ¡ä»¶ä¸‹è¢«è°ƒç”¨ï¼Œä¸‹é¢åˆ—ä¸¾ä¸€äº›

```python
- **__init__ :** æ„é€ å‡½æ•°ï¼Œåœ¨ç”Ÿæˆå¯¹è±¡æ—¶è°ƒç”¨
- **__del__ :** ææ„å‡½æ•°ï¼Œé‡Šæ”¾å¯¹è±¡æ—¶ä½¿ç”¨
- **__repr__ :** æ‰“å°å¯¹è±¡æ—¶è°ƒç”¨
- **__setitem__ :** æŒ‰ç…§ç´¢å¼•èµ‹å€¼
- **__getitem__:** æŒ‰ç…§ç´¢å¼•è·å–å€¼
- **__len__:** è·å¾—é•¿åº¦
- **__cmp__:** æ¯”è¾ƒè¿ç®—
- **__call__:** è®©å¯¹è±¡å˜ä¸ºå¯è°ƒç”¨å¯¹è±¡
# ä¸‹é¢çš„é­”æœ¯æ–¹æ³•å¯ä»¥è¿›è¡Œç®—ç¬¦é‡è½½
- **__add__:** åŠ è¿ç®—
- **__sub__:** å‡è¿ç®—
- **__mul__:** ä¹˜è¿ç®—
- **__truediv__:** é™¤è¿ç®—
- **__mod__:** æ±‚ä½™è¿ç®—
- **__pow__:** ä¹˜æ–¹
```

å®éªŒä¸€ä¸‹ `__repr__, __call__`

```python
class Student:
    def __init__(self, name, age) -> None:
        self.name = name
        self.age = age

    def __repr__(self) -> str:
        return "My name is {}. I'm {}.".format(self.name, self.age)

    def __call__(self, grade) -> str:
        return 'grade {}'.format(grade)


name = 'Declan'
age = 23
stu = Student(name, age)
print(stu)
# My name is Declan. I'm 23.
print(stu(2))
# grade 2
```

## è¡¥å……ï¼šè£…é¥°å™¨

å‚è€ƒ [åšå®¢](https://www.cnblogs.com/auguse/articles/9922257.html) è¿›è¡Œæ•´ç†ã€‚è£…é¥°å™¨æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ª Python å‡½æ•°æˆ–ç±»ï¼Œå®ƒå¯ä»¥è®©å…¶ä»–å‡½æ•°æˆ–ç±»åœ¨ä¸éœ€è¦åšä»»ä½•ä»£ç ä¿®æ”¹çš„å‰æä¸‹å¢åŠ é¢å¤–åŠŸèƒ½ã€‚ç”±äºåœ¨å­¦ä¹  mmdetection ä¸­å‘ç° `registry` ç±»çš„å®ç°å°±éœ€è¦è£…é¥°å™¨çš„å¸®å¿™ï¼Œæ‰€ä»¥æ¥ä¸‹æ¥å°†â€œèŠ±è´¹â€ä¸€äº›ç¯‡å¹…æ¥äº†è§£è£…é¥°å™¨çš„å†…éƒ¨é€»è¾‘

### è£…é¥°å™¨åŸºæœ¬åŸç†

ä¸‹é¢å…ˆçœ‹çœ‹ä¸ç”¨ python è£…é¥°å™¨ï¼Œæ€æ ·å®ç°å…¶ç±»ä¼¼çš„åŠŸèƒ½

```python
# åŸå‡½æ•°
def test(name, age):
    print("My name is {}, and I'm {}.".format(name, age))

# å®šä¹‰ä¸€ä¸ªè£…é¥°å™¨æ¥åŒ…è£…åŸå‡½æ•°
def decorate(func):
    def wrap(*args, **kwargs):
        print('This is my introduction.')
        func(*args, **kwargs)
    # è¿”å›æ–°çš„å‡½æ•°å
    return wrap

# å°†åŸå‡½æ•°åŒ…è£…ï¼Œå¹¶å°†åŸå‡½æ•°æŒ‡å‘è£…é¥°åçš„å‡½æ•°
test  = decorate(test)
name = 'Declan'
age = 23
test(name, age)
# This is my introduction.
# My name is Declan, and I'm 23.
```

è¿™æ ·å°±å®ç°äº†ä¸€ä¸ªè£…é¥°å™¨ï¼Œè¯¥è£…é¥°å™¨çš„åŠŸèƒ½å°±æ˜¯åœ¨åŸå‡½æ•°ä¹‹å‰æ‰“å°ä¸€å¥è¯ `This is my introduction`

python ä½¿ç”¨ `@` è¯­æ³•ç³–æ¥å®ç°è£…é¥°å™¨ï¼Œå…·ä½“æ¥è¯´ `@` å®ç°çš„æ˜¯è¿™å¥è¯**â€œå°†åŸå‡½æ•°åä½œä¸ºå‚æ•°ï¼Œè¾“å…¥åˆ°è£…é¥°å‡½æ•°ä¸­ï¼Œå…¶è¿”å›å€¼æŒ‡å‘åŸå‡½æ•°åâ€**ã€‚å°†ä¹‹å‰çš„è£…é¥°å™¨ï¼Œç”¨ `@` é‡æ–°å®ç°

```python
# å®šä¹‰ä¸€ä¸ªè£…é¥°å™¨æ¥åŒ…è£…åŸå‡½æ•°
def decorate(func):
    def wrap(*args, **kwargs):
        print('This is my introduction.')
        func(*args, **kwargs)
    # è¿”å›æ–°çš„å‡½æ•°å
    return wrap

# åŸå‡½æ•°+è£…é¥°å™¨
@decorate
def test(name, age):
    print("My name is {}, and I'm {}.".format(name, age))

# test  = decortate(test)
name = 'Declan'
age = 23
test(name, age)
# This is my introduction.
# My name is Declan, and I'm 23

print(type(test))
# <class 'function'>
```

å¯ä»¥çœ‹åˆ°ï¼Œå°±æ˜¯åœ¨åŸå‡½æ•°ä¹‹å‰åŠ ä¸Š `@decorate` å°±å®ç°äº†å¯¹åŸå‡½æ•°çš„è£…é¥°ï¼Œæ›¿ä»£äº† `test  = decorate(test) ` è¿™ä¸€æ­¥ï¼Œ**è¿™å°±æ˜¯è£…é¥°å™¨çš„æœ¬è´¨**ã€‚æ¢å¥è¯è¯´ `@` å…³é”®å­—å°†ä¸‹ä¸€è¡Œçš„å‡½æ•°/ç±»ï¼Œä½œä¸ºå‚æ•°ä¼ ç»™äº† `decorate` å‡½æ•°ï¼Œè€Œ `decorate(test)` é€šå¸¸å°†è¿”å›ä¸€ä¸ªå‡½æ•°ï¼Œæ­¤å‡½æ•°å°†èƒ½ç”¨ `test` è¿›è¡Œè°ƒç”¨

ä¹‹å‰çš„è£…é¥°å™¨åªæ¥å—äº†åŸå‡½æ•° `test` ä½œä¸ºå‚æ•°ï¼Œé‚£å¦‚æœæƒ³è¦å®ç°ä¼ å…¥å¤šä¸ªå‚æ•°ï¼Œä¾‹å¦‚ `@decorate(*args)` åº”è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿæ¥ä¸‹æ¥å®ç°ä¸€ä¸ªå¸¦å‚æ•°çš„è£…é¥°å™¨ï¼Œä¹Ÿå°±æ˜¯è£…é¥°å™¨çš„è£…é¥°å™¨ğŸ¤£ï¼Œè™½ç„¶è¿™ä¹ˆè¯´å¾ˆç»•å“ˆå“ˆ

```python
name = 'Declan'
age = 23

def param_decorate(addtional):
    print(f"It's running before test(), and addtional is {addtional}")
    def decorate(func):
        def wrap(*args, **kwargs):
            print('This is a introduction.')
            func(*args, **kwargs)
            return None
        return wrap
    return decorate

@param_decorate(3.14)
def test(name, age):
    print("My name is {}, and I'm {}.".format(name, age))


# It's running before test(), and addtional is 3.14
test(name, age)
# This is a introduction.
# My name is Declan, and I'm 23
```

ä½¿ç”¨ä»¥ä¸Šä»£ç ä¼šå‘ç°ï¼Œå³ä½¿æ²¡æœ‰è¿è¡Œ `test` å‡½æ•°ä¹Ÿè¾“å‡ºäº†å†…å®¹ã€‚è¿™æ˜¯å› ä¸ºç»™è£…é¥°å™¨æ·»åŠ å‚æ•°è¿‡åï¼Œé‚£ä¹ˆ `@` åè·Ÿéšçš„å°±æ˜¯ä¸€ä¸ªæ‰§è¡Œå‡½æ•°ï¼Œpython å°±ä¼šçœŸå®åœ°æ‰§è¡Œè¯¥å‡½æ•°çš„å†…å®¹ã€‚æ‰§è¡Œ `param_decorate` å‡½æ•°è¿”å›çš„æ˜¯ä¸€ä¸ªå‡½æ•°å `decorate`ï¼Œé‚£ä¹ˆæ­¤æ—¶ `@param_decorate()` ç›¸å½“äº `@decorate`

**è¿˜æœ‰ä¸€ä¸ªæ–¹æ³•æ¥å­¦ä¹ è£…é¥°å™¨çš„å†…éƒ¨é€»è¾‘ï¼Œå°±æ˜¯ç›´æ¥å¯¹ä»£ç  debugï¼Œä¸€æ­¥æ­¥çœ‹ç¨‹åºæ˜¯å¦‚ä½•è¿è¡Œçš„**

### python å†…ç½®è£…é¥°å™¨

å†…ç½®çš„è£…é¥°å™¨å’Œæ™®é€šçš„è£…é¥°å™¨åŸç†æ˜¯ä¸€æ ·çš„ï¼Œåªä¸è¿‡ä¸€èˆ¬ç”¨äºç±»çš„æ–¹æ³•å½“ä¸­ï¼Œè®©ç±»å˜å¾—æ›´çµæ´»

#### @property

å‚è€ƒ [èœé¸Ÿæ•™ç¨‹](https://www.runoob.com/python/python-func-property.html) [å»–é›ªå³°æ•™ç¨‹ ](https://www.liaoxuefeng.com/wiki/897692888725344/923030547069856)è¿›è¡Œæ•´ç†ã€‚`@property` èƒ½å¤Ÿç”¨äºç®¡ç†ç±»çš„**ç§æœ‰å±æ€§**ï¼Œæ–¹ä¾¿è¯»å–å±æ€§ã€ä¿®æ”¹å±æ€§ã€‚ä¸‹é¢çœ‹çœ‹å¦‚ä½•ä½¿ç”¨è¯¥è£…é¥°å™¨

```python
class Student:
    @property
    def get_the_score(self):
        """I'm the 'score' property."""
        return self._score
 
    @get_the_score.setter
    def score(self, value):
        self._score = value
 
    @get_the_score.deleter
    def score(self):
        del self._score


student = Student()
# setterä¸ä»…å¯ä»¥æ›´æ”¹å±æ€§å€¼ï¼Œä¹Ÿå¯ä»¥åˆ›å»ºè¯¥å±æ€§
student.get_the_score = 60

# æŸ¥çœ‹å±æ€§
print(student.get_the_score)
# 60

# ä¹Ÿä½¿ç”¨åŸå±æ€§åç§°æ›´æ”¹å’Œè®¿é—®
student.score = 100
print(student.score)
# 100

# åˆ é™¤å±æ€§
# del student.score
```

`@property` çš„å®ç°æ¯”è¾ƒå¤æ‚ï¼Œæˆ‘æ„Ÿè§‰æˆ‘æ˜¯çœŸæ²¡ç†è§£ï¼Œè¿™é‡Œç›´æ¥å¼•ç”¨ä¸€ä¸‹å»–é›ªå³°æ•™ç¨‹ä¸­çš„è¯ï¼š

> æŠŠä¸€ä¸ª `get_the_score` æ–¹æ³•å˜æˆå±æ€§ï¼Œåªéœ€è¦åŠ ä¸Š `@property` å°±å¯ä»¥äº†ã€‚æ­¤æ—¶ï¼Œ`@property`æœ¬èº«åˆåˆ›å»ºäº†å¦ä¸€ä¸ªè£…é¥°å™¨ `@get_the_score.setter`ï¼Œè´Ÿè´£æŠŠä¸€ä¸ª setter æ–¹æ³•å˜æˆå±æ€§èµ‹å€¼ï¼Œäºæ˜¯ï¼Œæˆ‘ä»¬å°±æ‹¥æœ‰ä¸€ä¸ªå¯æ§çš„å±æ€§æ“ä½œ

æˆ‘è‡ªå·±ç†è§£ï¼Œå¦‚æœéœ€è¦åªè¯»å±æ€§ï¼Œåˆ™åªä½¿ç”¨ `@property` è£…é¥°å™¨å°±å¯ä»¥äº†ï¼Œå¦‚æœè¿˜éœ€è¦å¯¹å±æ€§è¿›è¡Œè¿›ä¸€æ­¥æ“æ§åˆ™åŠ ä¸Šå…¶ä»– `setter, deleter` è£…é¥°å™¨

è€Œä¸”ï¼Œå¦‚æœä½¿ç”¨äº† `property` è£…é¥°å™¨ï¼Œå¿…é¡»è¦ä½¿ç”¨å•ä¸‹åˆ’çº¿å˜é‡ï¼Œä¸ç„¶ä¼šæŠ¥é”™ï¼Œå…·ä½“åŸå› å‚è€ƒ [çŸ¥ä¹é“¾æ¥](https://zhuanlan.zhihu.com/p/53469919)

#### @classmethod

å‚è€ƒ [çŸ¥ä¹é“¾æ¥](https://zhuanlan.zhihu.com/p/35643573) è¿›è¡Œæ•´ç†ï¼Œ`classmethod` åˆè¢«å«åšç±»æ–¹æ³•ã€‚`__init__()` ä½œä¸ºç±»çš„æ„é€ å‡½æ•°ï¼Œèƒ½å¤Ÿåœ¨ç”Ÿæˆå¯¹è±¡æ—¶è°ƒç”¨ï¼Œä½†å¦‚æœæƒ³è¦ä½¿ç”¨å…¶ä»–æ„é€ å‡½æ•°æ—¶ï¼Œå¯ä»¥ä½¿ç”¨`@classmethod` å®ç°ï¼Œä¸‹é¢çœ‹å¦‚ä½•ä½¿ç”¨ç±»æ–¹æ³•åˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼ˆä¸ºæ–¹ä¾¿ï¼ŒæŠŠé™æ€æ–¹æ³• `staticmethod` çš„ä»£ç ä¹Ÿå†™åœ¨è¿™å„¿ï¼‰

```python
class Date:
    def __init__(self, year, month, day):
        self.year = year
        self.month = month
        self.day = day
        print('{}å¹´{}æœˆ{}æ—¥'.format(self.year, self.month, self.day))

    @classmethod
    def create_from_string(cls, string):
        year, month, day = map(int,string.split('-'))
        return cls(year, month, day)

    @staticmethod
    def is_leap(year):
        if year % 4 == 0 and year % 100 != 0:
            return True
        elif year % 400 == 0:
            return True
        else: return False

# æ™®é€šæ„é€ 
date = Date(2020, 7, 31)
# 2020å¹´7æœˆ31æ—¥

# é€šè¿‡ç±»æ–¹æ³•æ„é€ 
date = Date.create_from_string('2020-7-31')
# 2020å¹´7æœˆ31æ—¥

# ä½¿ç”¨é™æ€æ–¹æ³•
print(Date.is_leap(1900))
# True
```

é‡ç‚¹éœ€è¦æ³¨æ„çš„æ˜¯ç±»æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œå…¶è¡¨ç¤ºè°ƒç”¨å½“å‰çš„ç±»åï¼Œé»˜è®¤åç§°ä¸º `cls`ï¼Œæœ‰ç‚¹ç±»ä¼¼äº `self` è¡¨ç¤ºç±»çš„å®ä¾‹ã€‚é‚£ä¹ˆç±»æ–¹æ³•æœ€åçš„è¿”å›å€¼ `return cls(year, month, day)` ä¹Ÿå°±ä¸éš¾ç†è§£äº†ï¼Œç›¸å½“äº `return Data(year, month, day)` é‡æ–°åˆ›å»ºäº†å¯¹è±¡

ç±»æ–¹æ³•èƒ½å¤Ÿåœ¨ä¸æ”¹å˜åŸæœ¬æ„é€ å‡½æ•°çš„æƒ…å†µä¸‹ï¼Œç»™ç±»çš„æ„é€ æ–¹æ³•å¢åŠ ä¸€äº›é¢å¤–åŠŸèƒ½ï¼Œä¾‹å¦‚å¯¹äºä¼ å…¥å‚æ•°åšä¸€äº›ä¸åŒçš„å¤„ç†ç­‰ç­‰

#### @staticmethod

å‚è€ƒ [åšå®¢](https://www.cnblogs.com/Meanwey/p/9788713.html) çš„è¯´æ³•ï¼š`@staticmethod` é™æ€æ–¹æ³•åªæ˜¯åä¹‰ä¸Šå½’å±ç±»ç®¡ç†ï¼Œä½†æ˜¯ä¸èƒ½ä½¿ç”¨ç±»å˜é‡å’Œå®ä¾‹å˜é‡ï¼Œæ˜¯ç±»çš„å·¥å…·åŒ…ã€‚å› ä¸ºè¯¥å‡½æ•°ä¸ä¼ å…¥selfæˆ–è€…clsï¼Œæ‰€ä»¥ä¸èƒ½è®¿é—®ç±»å±æ€§å’Œå®ä¾‹å±æ€§ã€‚é™æ€æ–¹æ³•çš„ä¸€ä¸ªå¥½å¤„æ˜¯ï¼Œä¸ç”¨åˆ›å»ºç±»çš„å®ä¾‹ä¹Ÿèƒ½å¤Ÿè°ƒç”¨è¯¥æ–¹æ³•ï¼Œå…·ä½“è°ƒç”¨æ–¹æ³•å‚è€ƒä¸Šé¢ä»£ç 
