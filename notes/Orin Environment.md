---
title: Orin Environment
mathjax: true
abbrlink: 87672cce
date: 2022-10-06 12:58:00
---

# Orin Environment

安装环境 [zhihu](https://zhuanlan.zhihu.com/p/534912505)

1. `sudo apt install nvidia-jetpack` 会安装如下 package

   1. CUDA & CUDNN，当前版本分别是 `11.4` & `8.3.2.49-1+cuda11.4`
   2. TensorRT，当前版本是 `8.4.0.11-1+cuda11.4`
   3. OpenCV，当前版本是 `4.5.4-8-g3e4c170df4`
   4. VPI
   5. DeepStream

2. **Protobuf 版本问题**

   在编译的时候报错 `error This file was generated by an older version of protoc...`，是由于安装的 protobuf 版本不正确。使用 `sudo apt install protobuf-compiler libprotobuf-dev` 一般只能下载 source 固定版本的 protobuf，例如只能下载 3.6.1 版本，但是我需要 3.5.0 版本，可以按照如下方法

   1. 卸载当前 protobuf，参考 [CSDN](https://blog.csdn.net/l297969586/article/details/80527317)

      ```shell
      sudo apt-get remove libprotobuf-dev
      sudo apt-get remove protobuf-compiler
      sudo apt-get remove python-protobuf
      sudo rm -rf /usr/local/bin/protoc
      sudo rm -rf /usr/bin/protoc
      sudo rm -rf /usr/local/include/google
      sudo rm -rf /usr/local/include/protobuf*
      sudo rm -rf /usr/include/google
      sudo rm -rf /usr/include/protobuf*
      ```

   2. 安装 protobuf 3.5.0 from source/release，参考 [StackOverflow](https://askubuntu.com/questions/1072683/how-can-i-install-protoc-on-ubuntu-16-04)

      0. 安装必要依赖 `sudo apt-get install autoconf automake libtool curl make g++ unzip`

      1. 在 [protobuf-release](https://blog.csdn.net/l297969586/article/details/80527317) 中下载需要的 protobuf 版本。按照之前的需求，我要下载 3.5.0 版本 `protobuf-cpp-3.5.0.zip`

         ```shell
         wget https://github.com/protocolbuffers/protobuf/releases/download/v3.5.0/protobuf-cpp-3.5.0.zip
         ```

         这里我只需要 C++ 版本的，如果想要所有语言可以下载 `protobuf-all-*.zip`

      2. 解压文件并进入 `protobuf-3.5.0`

      3. 逐步在当前文件夹下运行命令

         ```shell
         # 1
         ./config
         # 2
         make
         # 3
         make check
         # 4
         sudo make install
         # 5
         sudo ldconfig
         ```

      4. 检查安装是否成功 `protoc --version`

